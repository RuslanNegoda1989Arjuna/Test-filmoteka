const e=document.querySelector(".gallery"),t="https://api.themoviedb.org/3/genre/movie/list?api_key=74cf07cbcff58397c32fe332f07646fa&language=en-US";!async function(){try{const a=await fetch("https://api.themoviedb.org/3/trending/all/day?api_key=74cf07cbcff58397c32fe332f07646fa"),n=await fetch(t),o=await a.json();if(function(e,t){try{localStorage.setItem(t,JSON.stringify(e))}catch(e){console.error("Set state error: ",e.message)}}((await n.json()).genres,"genres"),!o.results.length)return void console.log("Нет популярных фильмов");!function(t){!function(e){try{const t=localStorage.getItem(e);null===t||JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}}("genres");const a=t.map((({poster_path:e,backdrop_path:t,title:a,name:n,release_date:o,first_air_date:s,genre_ids:r})=>`<div class="photo-card"><a class="link" href=""><img src="https://image.tmdb.org/t/p/w500${e}" alt="" loading="lazy" /></a>\n           <div class="info"><p class="film-name">${a}</p><p class="genre">${r} | ${o}</p></div></div>`)).join("");e.insertAdjacentHTML("beforeend",a)}(o.results)}catch(e){console.log(e,"Что-то пошло не так")}}(),console.log(fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=74cf07cbcff58397c32fe332f07646fa&language=en-US").then((e=>e.json())).then((e=>e.genres)));
//# sourceMappingURL=index.259ffc15.js.map
