const e=document.querySelector(".gallery");!async function(){try{const t=await fetch("https://api.themoviedb.org/3/trending/all/day?api_key=74cf07cbcff58397c32fe332f07646fa"),a=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=74cf07cbcff58397c32fe332f07646fa&language=en-US"),o=await t.json();if(function(e,t){try{localStorage.setItem(t,JSON.stringify(e))}catch(e){console.error("Set state error: ",e.message)}}((await a.json()).genres,"genres"),!o.results.length)return void console.log("Нет популярных фильмов");!function(t){const a=function(e){try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}}("genres");console.log(...a);const o=a.map((e=>(console.log(e.id),e.name)));console.log(o);const s=t.map((({poster_path:e,backdrop_path:t,title:a,name:o,release_date:s,first_air_date:n,genre_ids:r})=>`<div class="photo-card"><a class="link" href=""><img src="https://image.tmdb.org/t/p/w500${e}" alt="" loading="lazy" /></a>\n           <div class="info"><p class="film-name">${a}</p><p class="genre">${r} | ${s}</p></div></div>`)).join("");e.insertAdjacentHTML("beforeend",s)}(o.results)}catch(e){console.log(e,"Что-то пошло не так")}}();
//# sourceMappingURL=index.abc5c093.js.map
